{% extends "base.html" %}
{% block title %}家圖四必 - 可負擔房價計算機{% endblock title %}
{% block src %}
{% include "_style.html" %}
{% endblock src %}
<body>
    {% block body %}
    <!-- Topbar Start -->
    {% include "_topbar.html" %}
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark shadow-sm py-3 py-lg-0 px-3 px-lg-0">
        <a href="{{url_for('index')}}" class="navbar-brand d-block d-lg-none">
            <h1 class="m-0 text-uppercase text-white"></i>Pattern Map</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto mx-lg-auto py-0">
                <a href="{{url_for('index')}}" class="nav-item nav-link">首頁</a>
                <a href="{{url_for('about')}}" class="nav-item nav-link">關於我們</a>
                <a href="{{url_for('pattern_reply')}}" class="nav-item nav-link">格局圖風水辨識</a>
                <!-- <a href="team.html" class="nav-item nav-link">Master Chefs</a> -->
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">房價分析</a>
                    <div class="dropdown-menu m-0">
                        <a href="{{url_for('info')}}" class="dropdown-item">房價資訊</a>
                        <a href="{{url_for('predict_reply')}}" class="dropdown-item">房價預測</a>
                    </div>
                </div>
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle active" data-bs-toggle="dropdown">計算機</a>
                    <div class="dropdown-menu m-0">
                        <a href="{{url_for('mortgage')}}" class="dropdown-item">房貸計算機</a>
                        <a href="{{url_for('affordable')}}" class="dropdown-item active">可負擔房價計算機</a>
                    </div>
                </div>
                <a href="{{url_for('contact')}}" class="nav-item nav-link">聯絡我們</a>
            </div>
            <div class="dropdown navbar-nav navbar-right border-inner px-3">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">會員中心</a>
                <div class="dropdown-menu m-0">
                    <a href="{{url_for('login')}}" class="dropdown-item">登入</a>
                    <a href="{{url_for('register')}}" class="dropdown-item">註冊</a>
                    <a href="{{url_for('signout')}}" class="dropdown-item">登出</a>
                </div>
            </div>
        </div>
    </nav>
    <!-- Navbar End -->


    <!-- Page Header Start -->
    <div class="container-fluid bg-dark bg-img p-5 mb-5">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="display-4 text-uppercase text-white">可負擔房價計算機</h1>
            </div>
        </div>
    </div>
    <!-- Page Header End -->

    <!-- Calculator Start -->
    <onload="CheckHCR();">
        <div class="container">
            <div id="inout" class="row mt-5">
                <div id="inputs" class="col">
                    <div class="row">
                        <div class="col">
                            <div class="row mt-5 inputoption text-center">
                                <div class="col ml-4 pt-3">
                                    <i></i>
                                </div>
                            </div>
                            <div class="row inputoption text-right">
                                <div class="col ml-4">
                                    <i>每月收入</i>
                                </div>
                                <div class="col mr-4">
                                    <input type="text" id="totalPrice" value="$125,000"
                                        pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" data-type="currency"
                                        oninput="DownPayment(this.value, document.getElementById('downPayment').value, document.getElementById('loan').value);" />
                                </div>
                            </div>
                            <div class="row mb-3 inputoption text-right">
                                <div class="col ml-4 pb-4">
                                    <i>房貸占月收入比例</i>
                                </div>
                                <div class="col mr-4">
                                    <input type="text" id="downPayment" value="$25,000"
                                        pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" data-type="currency"
                                        oninput="DownPayment(document.getElementById('totalPrice').value, this.value, document.getElementById('loan').value);" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="mb-4 mr-4 ml-4 mb-4" />
                    <div class="row mb-3">
                        <div class="col ml-4">
                            貸款總額:
                        </div>
                        <div class="col mr-4">
                            <input type="text" id="loan" value="$100,000" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$"
                                data-type="currency" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col ml-4">
                            貸款年利率:
                        </div>
                        <div class="col mr-4">
                            <input type="text" id="rate" value="3.92" oninput="validateRate(this.value)" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col ml-4">
                            貸款期限(月):
                        </div>
                        <div class="col mr-4">
                            <input type="number" id="term" value="360" min="1" max="360"
                                oninput="validity.valid||(value='');" />
                        </div>
                    </div>
                    <div id="cbp" class="row mr-4 justify-content-end">
                        <button id="calcbtn" class="mt-5 btn btn-warning"
                            onclick="Calculate(document.getElementById('loan').value,document.getElementById('term').value,document.getElementById('rate').value)">
                            開始計算
                        </button>
                    </div>
                    <!-- <div class="row mr-4 mb-5 justify-content-end">
                        <button id="resetbtn" class="btn btn-danger mt-3" onclick="Reset()">
                            重新計算
                        </button>
                    </div> -->
                </div>
                <div id="outputs" class="col">
                    <div class="row">
                        <div id="m1" class="col">
                            <div id="m2" class="row justify-content-center mt-4">
                                <h1>每月應繳房貸</h1>
                            </div>
                            <div class="row justify-content-center pt-5 pb-5">
                                <h1 id="monthlypayment">$0.00</h1>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col ml-4">
                                    <h3>本金總額</h3>
                                </div>
                                <div class="col">
                                    <div class="row justify-content-end pr-5">
                                        <h3 id="totalprincipal">$0.00</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col ml-4">
                                    <h3>利息總額</h3>
                                </div>
                                <div class="col">
                                    <div class="row justify-content-end pr-5">
                                        <h3 id="totalinterest">$0.00</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col ml-4">
                                    <h3>本息合計總額</h3>
                                </div>
                                <div class="col">
                                    <div class="row justify-content-end pr-5">
                                        <h3 id="totalcost" class="mb-5">$0.00</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Calculator End -->


        <!-- Testimonial Start -->
        <!-- <div class="container-fluid py-5">
        <div class="container">
            <div class="section-title position-relative text-center mx-auto mb-5 pb-3" style="max-width: 600px;">
                <h2 class="text-primary font-secondary">Testimonial</h2>
                <h1 class="display-4 text-uppercase">Our Clients Say!!!</h1>
            </div>
            <div class="owl-carousel testimonial-carousel">
                <div class="testimonial-item bg-dark text-white border-inner p-4">
                    <div class="d-flex align-items-center mb-3">
                        <img class="img-fluid flex-shrink-0" src="img/testimonial-1.jpg" style="width: 60px; height: 60px;">
                        <div class="ps-3">
                            <h4 class="text-primary text-uppercase mb-1">Client Name</h4>
                            <span>Profession</span>
                        </div>
                    </div>
                    <p class="mb-0">Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </p>
                </div>
                <div class="testimonial-item bg-dark text-white border-inner p-4">
                    <div class="d-flex align-items-center mb-3">
                        <img class="img-fluid flex-shrink-0" src="img/testimonial-2.jpg" style="width: 60px; height: 60px;">
                        <div class="ps-3">
                            <h4 class="text-primary text-uppercase mb-1">Client Name</h4>
                            <span>Profession</span>
                        </div>
                    </div>
                    <p class="mb-0">Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </p>
                </div>
                <div class="testimonial-item bg-dark text-white border-inner p-4">
                    <div class="d-flex align-items-center mb-3">
                        <img class="img-fluid flex-shrink-0" src="img/testimonial-3.jpg" style="width: 60px; height: 60px;">
                        <div class="ps-3">
                            <h4 class="text-primary text-uppercase mb-1">Client Name</h4>
                            <span>Profession</span>
                        </div>
                    </div>
                    <p class="mb-0">Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </p>
                </div>
                <div class="testimonial-item bg-dark text-white border-inner p-4">
                    <div class="d-flex align-items-center mb-3">
                        <img class="img-fluid flex-shrink-0" src="img/testimonial-4.jpg" style="width: 60px; height: 60px;">
                        <div class="ps-3">
                            <h4 class="text-primary text-uppercase mb-1">Client Name</h4>
                            <span>Profession</span>
                        </div>
                    </div>
                    <p class="mb-0">Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </p>
                </div>
            </div>
        </div>
    </div> -->
        <!-- Testimonial End -->


        <!-- Footer Start -->
        {% include "_footer.html" %}
        <!-- Footer End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-primary border-inner py-3 fs-4 back-to-top"><i class="bi bi-arrow-up"></i></a>


        <!-- JavaScript Libraries -->
        {% include "_js_lib.html" %}
        <!-- Template Javascript -->
        <script src="{{ url_for('static',filename='js/main.js')}}"></script>
        {% endblock body %}
</body>

</html>